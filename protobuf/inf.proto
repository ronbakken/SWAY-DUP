syntax = "proto3";

option csharp_namespace = "InfX";

message ConfigSubCategories {
  repeated string labels = 1;
}

message ConfigCategories {
  repeated ConfigSubCategories sub = 1;
}

message ConfigOAuthProvider {
  bool visible = 1;
  bool enabled = 2;
  /// Visual name
  string label = 3;
  /// API endpoints of the OAuth provider
  string host = 4;
  string requestTokenUrl = 5;
  string authenticateUrl = 6;
  /// Url that will be used to detect login success by the app
  string callbackUrl = 7;
  /// Generated by the OAuth provider, not really secret
  string consumerKey = 8;
  string consumerSecret = 9;
}

message ConfigOAuthProviders {
  /// List of all OAuthProviders
  repeated ConfigOAuthProvider all = 1;
  /// This AES-256 key decrypts the OAuth keys
  string key = 2;
}

message Config {
  int32 version = 1;
  ConfigCategories categories = 2;
  ConfigOAuthProviders oauthProviders = 3;
}

message CategoryId {
  int32 main = 1;
  int32 sub = 2;
}

message CategoryIdSet {
  repeated CategoryId ids = 1;
}

/* end of file */
